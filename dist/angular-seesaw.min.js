"use strict";!function(e,t){return e.module("ngSeesawLabs",[])}(angular,window),function(e){return null}(angular);var BaseCtrl,bind=function(e,t){return function(){return e.apply(t,arguments)}};BaseCtrl=function(){function e(){this.clearError=bind(this.clearError,this),this.alertSuccess=bind(this.alertSuccess,this),this.alertError=bind(this.alertError,this)}return e.prototype.alert=null,e.prototype.alertError=function(e){null==e&&(e="Please contact system administrator - Unexpected error"),this.alert={type:"danger",message:e},null!=this.toaster&&this.toaster.error(this.alert.message)},e.prototype.alertSuccess=function(e){this.alert={type:"success",message:e}},e.prototype.clearError=function(){return this.alert=null},e.prototype.clone=function(e){var t,n,r;if(null==e||"object"!=typeof e)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return t="",null!=e.global&&(t+="g"),null!=e.ignoreCase&&(t+="i"),null!=e.multiline&&(t+="m"),null!=e.sticky&&(t+="y"),new RegExp(e.source,t);r=new e.constructor;for(n in e)r[n]=this.clone(e[n]);return r},e}(),function(){var e;return e=function(e){return{link:function(t,n,r){return n.bind("click",function(){return e.history.back()})}}},e.$inject=["$window"],angular.module("ngSeesawLabs").directive("seesawBackHistory",e)}(),function(){var e;return e=function(){return{templateUrl:"modules/seesawlabs/views/directives/ssl-button.view.html",transclude:!0,replace:!0,link:{pre:function(e,t,n){var r;if(r=["submit","button","reset"],(null!=n?n.type:void 0)||t.attr("type","button"),!r.includes(n.type))return n.type="button"}}}},e.$inject=[],angular.module("ngSeesawLabs").directive("seesawButton",e)}(),function(){var e;return e=function(e){return{scope:{sslConfirm:"&",sslConfirmCancel:"&",sslConfirmMessage:"@",sslConfirmTemplate:"@"},link:function(t,n,r){var i;return i=function(t,n){var r;if(null!=e)return r=e.open({animation:!0,templateUrl:n||"modules/seesawlabs/views/directives/ssl-basic-confirmation-modal.view.html",controller:"ConfirmationModalCtrl as modalCtrl",resolve:{confirmationMessage:function(e){return function(){return t}}(this)}})},n.bind("click",function(e){return i(t.kConfirmMessage,t.kConfirmTemplate).result.then(function(e){return function(){return t.kConfirm()}}(this))["catch"](function(e){return function(){if(t.kConfirmCancel)return t.kConfirmCancel()}}(this)),e.stopPropagation()})}}},e.$inject=["$uibModal"],angular.module("ngSeesawLabs").directive("seesawConfirm",e)}(),function(){var e;return e=function(e,t){return{replace:!0,require:["ngModel"],link:{pre:function(n,r,i){var s,a,o;return s="",angular.forEach(Object.keys(i),function(e,n){if("string"==typeof i[e])return s+=t.camelToDashHyphen(e)+'="'+i[e]+'" '}),a="<div class=\"ssl-datepicker\" ng-class=\"{ 'fg-line': true, 'fg-toggled': "+i.name+'Flag == true }">\n  <input ng-click="'+i.name+'Flag = true;" is-open="'+i.name+'Flag" uib-datepicker-popup="MMM dd, yyyy" show-weeks="false" type="text" close-text="Close" '+s+" />\n</div>",o=angular.element(a),e(o)(n,function(e){return r.replaceWith(e)})},post:function(e,t,n,r){var i;return i=r[0],i.$formatters.push(function(e){var t;if(e)return t=new Date(e),t.setMinutes(t.getMinutes()+t.getTimezoneOffset()),t.setMinutes((t.getMinutes()+60*t.getHours())*-1),i.$setViewValue(t),t})}}}},e.$inject=["$compile","seesawCommon"],angular.module("ngSeesawLabs").directive("seesawDatepicker",e)}(),function(angular){var sslEntityListDirective;return sslEntityListDirective=function($compile,$filter,NgTableParams){return{templateUrl:"modules/seesawlabs/views/directives/ssl-entity-list.view.html",replace:!0,scope:{headers:"=",permission:"@",clickEvent:"&",promise:"&",options:"=",showCollapse:"@",collapseTextProperty:"@",reference:"="},link:{pre:function(scope,element,attrs){return null==scope.showCollapse&&(scope.showCollapse=!1),scope.details={},scope.loading=!1,scope.tableOptions={sorting:{id:"desc"},count:100},scope.getItem=function(e,t){var n;return null==t?e:n={item:e,ref:t}},scope.onAction=function(e,t){return e.action(t).then(function(t){return function(t){if(e.refresh||"delete"===e.name)return scope.refresh()}}(this))},scope.refresh=function(){return scope.tableParams?void scope.tableParams.reload():scope.tableParams=new NgTableParams(scope.tableOptions,{counts:[],getData:function(e){return scope.promise().then(function(t){var n;return scope.loading=!1,n=e.filter()?$filter("filter")(t,e.filter(),!1):t,n=e.sorting()?$filter("orderBy")(n,e.orderBy()):n,e.total(n.length),n.slice((e.page()-1)*e.count(),e.page()*e.count())})["catch"](function(t){return e.total(0),null})}})},scope.getValue=function(item,name,filter){var res;if(null==filter&&(filter=null),null==item||null==name)return"";try{res=eval("item."+name)}catch(error){return""}return(null!=filter?filter.name:void 0)&&(res=$filter(filter.name)(res,filter.expression,filter.comparator,filter.anyPropertyKey)),res},scope.doClick=function(e){return scope.clickEvent(e)},scope.refresh()}}}},sslEntityListDirective.$inject=["$compile","$filter","NgTableParams"],angular.module("ngSeesawLabs").directive("seesawEntityList",sslEntityListDirective)}(angular),function(){var e;return e=function(e,t){return{scope:{aggregations:"=",entity:"=",facets:"=",selected:"="},templateUrl:"modules/seesawlabs/views/directives/ssl-facets.view.html",link:function(n,r,i){var s,a;return s=function(){var e,t;if(n.selected[n.entity.id]={},n.facets&&n.facets[n.entity.id])return e=n.facets[n.entity.id],t=e.split(";"),angular.forEach(t,function(e,t){var r,i,s,a;return r=e.split(":"),i=r[0],s=r[1],a=s.split(","),angular.forEach(a,function(e,t){return n.selected[n.entity.id]||(n.selected[n.entity.id]={}),n.selected[n.entity.id][i]||(n.selected[n.entity.id][i]={}),n.selected[n.entity.id][i][e]=!0})})},a=function(){var e;return e=[],n.selected&&angular.forEach(Object.keys(n.selected),function(t,r){var i;if(i=[],angular.forEach(Object.keys(n.selected[t]),function(e,r){var s;if(s=[],angular.forEach(Object.keys(n.selected[t][e]),function(r,i){if(n.selected[t][e][r]&&r)return s.push(r)}),s.length>0)return i.push(e+":"+s.join(","))}),i.length>0)return e.push(t+"::"+i.join(";"))}),e.join(";;")},n.getKeys=function(e){var t;return t=[],e&&(t=Object.keys(e)),t},n.getName=function(e){return e.replace(/_/," ")},n.refresh=function(){var r;return r=a(),t.go("search-results",{entity:e.entity,keywords:e.keywords,facets:r,active:n.entity.id})},s()}}},e.$inject=["$stateParams","$state"],angular.module("ngSeesawLabs").directive("sslFacets",e)}(),function(){var e;return e=function(){return{templateUrl:"modules/seesawlabs/views/directives/ssl-form.view.html",transclude:!0,replace:!0,link:{pre:function(e,t,n){return e.parentForm=n.name,t.on("submit",function(e){var n;n=t[0].querySelector(".ng-invalid"),n&&(e.stopImmediatePropagation(),e.preventDefault(),n.focus(),t.addClass("submitted"))})}}}},e.$inject=[],angular.module("ngSeesawLabs").directive("seesawForm",e)}(),function(){var e;return e=function(e){return{scope:{seesawInModal:"=",seesawInModalCallback:"&"},link:function(t,n,r){var i;return i=function(){var n,i;return n=t.seesawInModal,i=e.open({animation:!0,templateUrl:r.seesawInModalTemplateUrl,controller:r.seesawInModalController,size:r.seesawInModalSize||"",resolve:{modaldata:function(e){return function(){return n}}(this)}})},n.bind("click",function(e){return i().result.then(function(e){return function(e){if(null!=t.seesawInModalCallback)return t.seesawInModalCallback()}}(this)),e.stopPropagation()})}}},e.$inject=["$uibModal"],angular.module("ngSeesawLabs").directive("seesawInModal",e)}(),function(){var e;return e=function(){return{templateUrl:"modules/seesawlabs/views/directives/ssl-input-item.view.html",transclude:!0,replace:!0,scope:{label:"@",ref:"@",requiredMessage:"@",patternMessage:"@",minMessage:"@",maxMessage:"@",maxlengthMessage:"@",minlengthMessage:"@",emailMessage:"@",dateMessage:"@",numberMessage:"@"},link:{pre:function(e,t,n){var r;return(null!=(r=e.$parent)?r.parentForm:void 0)&&(e.parentForm=e.$parent[e.$parent.parentForm]),e.isEmpty=function(e){return!e||0===Object.keys(e).length}}}}},e.$inject=[],angular.module("ngSeesawLabs").directive("seesawInputItem",e)}(),function(){var e;return e=function(){return{restrict:"A",link:function(e,t,n){return t.bind("click",function(){return t.attr("disabled","disabled")})}}},e.$inject=[],angular.module("ngSeesawLabs").directive("seesawOneClick",e)}(),function(){var e;return e=function(){return{templateUrl:"modules/seesawlabs/views/directives/ssl-picture.view.html",replace:!0,scope:{logoUrl:"=",logoUuid:"=",editMode:"@",defaultUrl:"@"},link:{pre:function(e,t,n){return null==e.editMode&&(e.editMode=!1),e.removeLogo=function(){return e.logoUrl=null,e.logoUuid=""}}}}},e.$inject=[],angular.module("ngSeesawLabs").directive("seesawPicture",e)}(),function(){var e;return e=function(){return{templateUrl:"modules/seesawlabs/views/directives/ssl-status.view.html",replace:!0,scope:{status:"=",label:"="},link:{pre:function(e,t,n){if(null!=e.status)return e.status=e.status.toLowerCase()}}}},e.$inject=[],angular.module("ngSeesawLabs").directive("seesawStatus",e)}(),function(e){var t;return t=function(){return{templateUrl:"modules/seesawlabs/views/directives/ssl-suggestions-item.view.html",replace:!0,link:function(e,t,n){}}},t.$inject=[],e.module("ngSeesawLabs").directive("seesawSuggestionsItem",t)}(angular);var extend=function(e,t){function n(){this.constructor=e}for(var r in t)hasProp.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},hasProp={}.hasOwnProperty;!function(e){var t,n;return t=function(e){function t(e,t){this.$modal=e,this.data=t}return extend(t,e),t.$inject=["$uibModalInstance","data"],t.prototype.cancel=function(){return this.$modal.dismiss("cancel")},t}(BaseCtrl),n=function(t,n,r){return{transclude:!0,scope:{text:"=",search:"&",mode:"=",selected:"=",modalOptions:"=",onItemSelect:"&",mouseLeaveDisable:"="},link:function(i,s,a,o,l){var u,c;return i.blur=!1,i.placeholder=a.placeholder,i.addLabel=a.addLabel,i.items=[],i.mode=1,i.loading=!1,u="<div class='autocomplete' ng-mouseleave='onMouseLeave()'><input name="+(a.name||"suggestion")+" type='text' ng-model='text' placeholder='"+(a.placeholder||"")+"' class='"+(a.inputClass||"")+"' ng-keyup='onKeyup(text)' autocomplete='off' "+(a.required||"")+"><ul ng-show='((items.length > 0 && text.length > 0) || (text.length > 3 && addLabel)) && mode != 0'><li ng-repeat='$item in items' ng-click='onSelect($item)'><placeholder></placeholder></li><li class='addlabel text-center' ng-if='addLabel'><a href='javascript:;' ng-bind='addLabel' ng-click='add()'></a></li></ul></div>",c=e.element(u),l(i,function(e){return c.find("placeholder").replaceWith(e),n(c)(i,function(e){return s.append(e)})}),i.onKeyup=function(e){if(i.showSuggestions(),!i.loading)return i.loading=!0,i.search().then(function(e){return function(e){return i.items=e,i.loading=!1}}(this))},i.onMouseLeave=function(){if(!i.mouseLeaveDisable)return i.hideSuggestions()},i.hideSuggestions=function(){return i.mode=0},i.showSuggestions=function(){return i.mode=1},i.onSelect=function(e){if(e&&(i.selected=e),i.hideSuggestions(),"function"==typeof i.onItemSelect)return t(function(e){return function(){return i.onItemSelect()}}(this))},i.add=function(){if(i.modalOptions)return r.open(i.modalOptions).result.then(function(e){return function(e){if(null!=e)return i.onKeyup(i.text)}}(this))}}}},n.$inject=["$timeout","$compile","$uibModal"],e.module("ngSeesawLabs").controller("SuggestionsModalCtrl",t).directive("seesawSuggestions",n)}(angular),function(e){var t;return t=function(){return{camelToDashHyphen:function(e){var t;return e.match(/_/g)&&(e=e.replace(/_(.)/g,function(e,t){return t.toUpperCase()})),e.match(/^[A-Z]+$/g)&&(e=e.toLowerCase()),t=e.replace(/([A-Z])/g,"-$1"),t.toLowerCase()}}},t.$inject=[],e.module("ngSeesawLabs").factory("seesawCommon",t)}(angular);